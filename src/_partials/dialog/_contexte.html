<dialog id="num01-maquette">
    <a href="#num01" class="dialog__close"></a>
    <div class="dialog__content">
        <h3>R√©sultat final</h3>
        <p>Rien √† voir tout se passe dans votre console</p>
        <p class="close">Cliquez √† l'ext√©rieur pour fermer la fen√™tre</p>
    </div>
</dialog>
<dialog id="num02-maquette">
    <a href="#num02" class="dialog__close"></a>
    <div class="dialog__content">
        <h3>R√©sultat final</h3>
        <p>Rien √† voir tout se passe dans votre console</p>
        <p class="close">Cliquez √† l'ext√©rieur pour fermer la fen√™tre</p>
    </div>
</dialog>

<dialog id="num01-explication">
    <a href="#num01" class="dialog__close"></a>
    <div class="dialog__content">
        <h3>√âtape 1 - Click sur un bouton</h3>
        <p>
            Dans ce num√©ro, il y a 3 boutons, nous d√©sirons faire appara√Ætre un message personnalis√© dans la console lors du click sur ces derniers. Allons-y
            une √©tape √† la fois et travaillons que sur le premier bouton.
        </p>
        <h3>HTML</h3>
        <p>
            N'oubliez pas qu'il faut ajouter une classe pr√©fix
            <strong>.js-</strong>
            sur les √©l√©ments que nous voulons cibler en HTML √† partir du JavaScript. Les classes pour les styles et celles pour les comportements en JS doivent
            √™tre
            <u>diff√©rentes</u>
            .
        </p>
        <ul>
            <li>
                Ouvrez le fichier
                <em>_partials/ex2/num1.html</em>
            </li>
            <li>
                Ajoutez la classe css
                <strong>js-button</strong>
                √† tous les boutons de la page.
            </li>
        </ul>
        <h3>JavaScript</h3>
        <ol>
            <li>
                Dans la m√©thode
                <em>init</em>
                , d√©finissez une variable nomm√©e
                <strong>button</strong>
                et allez chercher une r√©f√©rence √† l'√©l√©ment html
                <strong>js-button</strong>
                √† l'aide du
                <em>querySelector</em>.
                <p>
                    ‚ö†Ô∏è N'oubliez pas que vous pouvez faire des console.log √†
                    <u>chaque √©tape</u>
                    pour √™tre certain d'√™tre sur le bon chemin.
                </p>
            </li>
            <li>
                Cr√©ez une m√©thode
                <strong>onClick</strong>
            </li>
            <li>
                Ajoutez un
                <strong>√©couteur sur le click</strong>
                de la variable
                <em>button</em>
                qui appellera la m√©thode
                <strong>onClick</strong>
                .
            </li>
            <li>
                <strong>Testez</strong>
                avec un console.log dans la m√©thode appell√©e lors du click afin de v√©rifier que votre branchement fonctionne. Si ce n'est pas le cas, pensez √†
                l'exception du contexte lors d'un √©v√©nement comme le click.
            </li>
        </ol>
        <h3 style="text-transform: none;">event.currentTarget</h3>
        <p>
            Il sera souvent n√©cessaire de savoir sur quel √©l√©ment html on a cliqu√©. Comme le contexte dans le bouton est maintenant modifi√© avec le <strong>.bind(this)</strong>,
            <strong>le fait d'utiliser simplement <em>this</em> √† l'int√©rieur ne fonctionne plus</strong>
            . Lorsqu'un √©l√©ment est d√©clanch√©, un
            <em>objet</em>
            contenant une multitude d'information accompagne l'√©v√©nement. Il est alors possible d'utiliser cet objet pour savoir sur quel √©l√©ment a √©t√©
            d√©clanch√© le dit √©v√©nement. Cet objet est toujours disponible via le premier param√®tre.
        </p>
        <ul>
            <li>
                Dans la
                <em>d√©claration</em>
                de votre m√©thode onClick(), passez-lui param√®tre
                <strong>event</strong>.
            </li>
        </ul>
        <p>‚ö†Ô∏è Ce param√®tre devient donc disponible dans le contexte de la m√©thode <strong>onClick</strong>.</p>
        <ul>
            <li>
                <em>event</em>
                contient, entre autre, l'√©l√©ment HTML sur lequel l'√©couteur a √©t√© cr√©√© avec le <em>addEventListener</em>. Effectuez un
                <em>console.log</em>
                avec
                <em>event</em>
                pour aller voir ce que la variable contient.
            </li>
        </ul>
        <p>
            ‚ö†Ô∏è La propri√©t√©
            <strong>currentTarget</strong>
            est celle qui nous int√©resse alors qu'elle nous donne justement une r√©f√©rence de l'√©l√©ment HTML en question. Il est alors possible d'interagir avec
            cet √©l√©ment.
        </p>
        <p>
            Si on utilise la propri√©t√©
            <em>innerText</em>
            sur cet √©l√©ment (
            <strong>event.currentTarget.innerText</strong>
            ), il est alors possible d'aller chercher la valeur de texte de l'√©l√©ment en question.
        </p>
        <ul>
            <li>
                Faites appara√Ætre dans la console la phrase suivante √† l'aide d'un
                <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Template_literals" target="_blank">Template String</a>
                : Le bouton ${METTRE LA VALEUR DU TEXTE DU BOUTON ICI} a √©t√© cliqu√©. Vous devrez trouver le caract√®re <em>backtick</em> sur votre clavier.
            </li>
            <li>Testez maitenant avec le premier bouton.</li>
        </ul>
        <p>
            Si vous cliquez sur les autres boutons, rien ne se passe. Pourquoi? Parce que
            <em>querySelector</em>
            ne retourne
            <u>que le premier √©l√©ment</u>
            correspondant.
        </p>
        <ul>
            <li>
                Adaptez le code en rempla√ßant
                <em>querySelector</em>
                par
                <strong>querySelectorAll</strong>
                et la boucle
                <strong>for</strong>
                afin que les 3 boutons fonctionnent de la m√™me fa√ßon.
            </li>
        </ul>
        <p>
            N'oubliez pas de renommer votre variable
            <em>button</em>
            pour
            <strong>buttons</strong>
            , √ßa fera plus de sens ainsi comme vous utilisez querySelectorAll et que ce dernier retourne un tableau pouvant contenir DES √©l√©ments HTML.
        </p>
        <p>
            Utilisez <u>toujours</u> un nom de variable singulier lorsque vous utilisez <strong>querySelector</strong> et un nom pluriel avec <strong>querySelectorAll</strong>. Votre code sera plus compr√©hensible ainsi.</strong>
        </p>
    </div>
</dialog>
<dialog id="num02-explication">
    <a href="#num02" class="dialog__close"></a>
    <div class="dialog__content">
        <h3>√âtape 1 - Un peu de r√©usinage</h3>
        <p>
            La classe <em>Main</em> va servir pour plusieurs actions diff√©rentes, nous allons faire un peu de m√©nage dans notre structure pour √™tre capable de mieux
            s'y retrouver.
        </p>
        <h3>M√©nage</h3>
        <ul>
            <li>
                Cr√©ez une m√©thode <strong>initNum1</strong>
                <ul>
                    <li>Transf√©rez-y le code complet qui a servi √† mettre un click sur tous les boutons.</li>
                    <li>Appellez cette m√©thode √† partir de votre <em>init</em>. N'oubliez pas le <strong>this</strong>.</li>
                </ul>
            </li>
            <li>Cr√©ez une m√©thode <strong>initNum2</strong></li>
        </ul>
        
        <h3>√âtape 2 - Logique gestion des fruits</h3>

        <p>En programmation orient√©e objet, lorsqu'on parle d'une variable globale, il s'agit d'une variable qui sera d√©clar√©e dans le <em>contexte</em> global et donc, <em>disponible partout</em> √† l'int√©rieur d'une instance de la classe <em>Main</em>. La variable globale n'est pas d√©clar√©e avec <em>const</em> ou <em>let</em> mais plut√¥t avec le <em>this</em> (ex. : this.nomDeLaVariable = valeur;).</p>
        <p>Utilisons un <em>tableau</em> pour y mettre une simple liste de fruits.</p>

        <p>Nous cr√©ons les variables globales dans le <em>constructor</em> pour faciliter la compr√©hension du code. </p>
        <ul>
            <li>
                Dans la m√©thode <em>constructor</em>, cr√©ez une variable <u>globale</u> nomm√©e <strong>fruits</strong> √† laquelle vous assignerez le tableau suivant : <strong>['banane', 'fraise',
                    'pomme', 'framboise']</strong>.
            </li>
        </ul>

        <p>
            Si vous regardez dans _partials/ex2/num2.html, vous pourrez voir un div avec la classe <em>js-container</em> ainsi qu'un bouton avec la classe css <em>js-add</em>. C'est lors du clic sur ce bouton qu'on injectera des √©l√©ments HTML cr√©√© dans le JavaScript (dynamique) dans le conteneur (.js-container).
        </p>

        <p>Il faut stocker une <u>r√©f√©rence</u> √† ces deux √©l√©ments HTML comme nous voulons les utiliser dans le contexte de notre class <em>Main</em>.</p>
        <ol>
            <li>Cr√©ez une autre variable globale nomm√©e <strong>container</strong> dans le constructor et utilisez le <em>querySelector</em> pour aller chercher la r√©f√©rence.</li>
            <li>Faites la m√™me chose pour le <em>bouton</em> sous votre variable <em>container</em> en utilisant le nom de variable <strong>buttonAdd</strong>.</li>
        </ol>


        <h3>Ajoutons un fruit</h3>
        <p>Nous allons cr√©er une nouvelle m√©thode qui va ajouter un texte dans le container lorsqu'on clic sur le bouton.</p>
        <ul>
            <li>Cr√©ez la m√©thode <strong>addFruit</strong> dans votre classe <em>Main</em></li>
            <li>
                Dans la m√©thode initNum2, ajoutez un <u>√©couteur</u> de click sur le <em>buttonAdd</em> qui appelle la m√©thode <em>addFruit</em>. N'oubliez pas l'exception de contexte
                pour un √©v√©nement.
            </li>
            <li>
                Dans la m√©thode <em>addFruit</em> :
                <ul>
                    <li>
                        Mettez un <em>console log</em> et √† l'aide d'un <em>Template String</em>, affichez la phrase suivante: <strong>Le fruit du jour est la NOM_DU_FRUIT!</strong>. Vous devez
                        remplacer <strong>NOM_DU_FRUIT</strong> par le tout premier √©l√©ment du tableau contenu dans la variable <em>this.fruits</em>. Utilisez les crochets et allez
                        chercher la r√©f√©rence √† la premi√®re position du tableau (ex. : this.fruits[0]).
                    </li>
                </ul>
            </li>
        </ul>

        <p>Maintenant, cr√©ons un √©l√©ment HTML dynamiquement (il n'existe pas dans le HTML).</p>
        <ul>
            <li>
                Dans la m√©thode <em>addFruit</em>, cr√©ez une variable nomm√©e <strong>p</strong> (qui ne sera accessible que de cette m√©thode (pas globale)). Vous allez ensuite lui cr√©er et assigner un
                nouvel √©l√©ment HTML de type paragraphe en utilisant la m√©thode <strong>document.createElement('p')</strong>.
            </li>
        </ul>
        <p>Afin de mettre du contenu texte dans cet √©l√©ment, nous utiliserons la propri√©t√© innerText.</p>
        <ul>
            <li>√Ä la suite de la ligne pr√©c√©dente, ajoutez <strong>p.innerText =</strong> puis d√©placez le contenu <em>Template String</em> de votre console.log √† la suite du √©gal. (Pas besoin de vous dire d'effacer la console, vous y auriez pens√© n'est-ce pas?)</li>
        </ul>
        <p>Pour ins√©rer votre √©l√©ment HTML contenu dans la variable <strong>p</strong> dans le conteneur, il faut une r√©f√©rence vers cet objet. Vous l'avez fait un peu plus haut avec <strong>this.container</strong></p>
        <p>Vous devriez aussi savoir comment ajouter un √©l√©ment dans une autre √† vous de jouer üí™. Un aide-m√©moire ou vos notes aideraient surement.</p>

        <h3>Un fruit al√©atoire</h3>
        <p>
            Notre tableau contient 4 fruits, il nous faudrait donc un num√©ro al√©atoire entre 1 et 4. Cependant, l'index du premier √©l√©ment d'un tableau commence
            √† 0 plut√¥t qu'√† 1... Nous aurons donc besoin, au final, d'un nombre entre 0 et 3.
        </p>
        <ul>
            <li>
                Au tout d√©but de la m√©thode <em>addFruit</em>, cr√©ez une variable locale nomm√©e <strong>number</strong> en lui assignant la valeur <strong>Math.random()</strong>. Ceci retournera une valeur <em>entre 0
                    (inclus) et 1 (exclus)</em>. Mettez un <em>console.log</em> juste au dessous pour valider la valeur.
            </li>
        </ul>
        <p>Suivez les √©tapes suivantes et testez √† plusieurs reprises en rafraichissant afin de voir le nombre al√©atoire changer pour bien comprendre.</p>
        <ul>
            <li>
                Modifiez l'assignation de la variable <em>number</em> en multipliant le r√©sultat par <strong>this.fruits.length</strong>, soit la propri√©t√© du tableau qui indique le
                nombre d'√©l√©ments qu'il contient.
            </li>
        </ul>
        <p>Ceci retourne un nombre avec d√©cimal entre 0 (inclus) et 4 (exclus). Cependant, l'index d'un tableau doit absolument √™tre un nombre entier.</p>
        <ul>
            <li>Arrondissez la valeur vers le bas en <u>englobant</u> l'assignation de la variable <em>number</em>... <strong>= Math.floor(Math.random() * this.fruits.length);</strong></li>
            <li>
                Finalement, au lieu de toujours aller chercher le fruit √† l'emplacement [0] dans le tableau, utilisez la variable <em>number</em> pour dynamiser la
                s√©lection.
            </li>
        </ul>
    </div>
</dialog>
